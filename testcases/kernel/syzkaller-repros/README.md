# LTP wrapper for Syzkaller reproducers

This allows you to run the autogenerated C bug reproducers from the Syzkaller
fuzzer within the LTP framework. Meaning that you may use an existing test
runner compatible with the LTP (with some constraints, see below).

## Instructions

1. Run `ltp/configure` with `--with-syzkaller-repros`.
2. Build and install the LTP as normal.
3. Run one or more of syzkallerN runtest files where N is a number.

Make will automatically download the reproducers into `testcases/linux-arts`
using git-submodule if necessary.

By default each runtest file contains 100 reproducers. You may change this by
overriding `SYZKALLER_RUNFILES_SIZE`.

Extra parameters can be sent to syzwrap using `SYZWRAP_ARGS`. See `syzwrap
-h`.

## Kernel Requirements

It is strongly recommended that you use KASAN and other debugging kernel
features. See the Syzkaller documentation for the configuration you should
use.

## Test Runner Requirements

Unlike most LTP tests these reproducers can leave your system in a broken
state even if no bug is triggered.

You will need to:

A) Reboot the SUT
B) Reset at least the root filesystem to a known good state

Every time syzwrap fails.

If syzwrap fails with TBROK or fails to run at all, then you probably need to
reset the system and rerun that test. If a test fails with TFAIL, you may also
want to run it once again with a clean state.

It might be the case that some reproducers write to random devices or do other
things which can effect the outside world.
